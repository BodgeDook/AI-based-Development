# CV-2-28: Создание HDR-эффекта

## Описание:

Этот скрипт выполняет имитацию HDR-эффекта на изображении, комбинируя несколько версий одной и той же фотографии с разной экспозицией. Скрипт создаёт тёмную, нормальную и светлую версии изображения, а затем объединяет их с помощью взвешенного сложения, создавая эффект высокого динамического диапазона (HDR-like). Результат сначала выводится на сам экран (в виде отдельного окна вывода), а после нажатия кнопки q окно исчезает, и результат с оригиналом сохраняются для доп. сравнения работы скрипта.  

Скрипт позволяет настраивать яркость тёмной и светлой версий, а также задавать веса для объединения, чтобы гибко регулировать конечный результат.  

Используется тестовое изображение `astronaut` из библиотеки `skimage.data`.

---

## Аргументы командной строки:

- `--w_dark` (float, default=0.3)  
  Вес тёмной версии при объединении.  

- `--w_normal` (float, default=0.4)  
  Вес нормальной версии при объединении.  

- `--w_light` (float, default=0.3)  
  Вес светлой версии при объединении.  

> **Важно:** сумма трёх весов должна быть равна 1.0.

- `--alpha_dark` (float, default=0.5)  
  Множитель яркости для тёмной версии изображения. Значение <1 затемняет, >1 делает ярче.  

- `--alpha_light` (float, default=1.5)  
  Множитель яркости для светлой версии изображения. Значение >1 делает ярче, <1 затемняет.  

- `--output_image` (str, default="output.png")  
  Имя файла для сохранения результата HDR. Если не указано, сохраняется как `output.png`.  

- `--output_original` (str, default="original.png")
  Имя файла для сохранения оригинального изображения. Если не указано, сохраняется как original.png.

---

## Как это работает:

1. **Загрузка тестового изображения**  
   Скрипт загружает изображение `astronaut` из библиотеки `skimage`.  

2. **Создание разных экспозиций**  
   На основе исходного изображения создаются:
   - **Dark** – тёмная версия (умножение на `alpha_dark`)  
   - **Normal** – оригинальная версия  
   - **Light** – светлая версия (умножение на `alpha_light`)  

3. **Взвешенное объединение**  
   Все три версии объединяются с использованием весов `w_dark`, `w_normal` и `w_light`, создавая HDR-подобный эффект.  

4. **Отображение результата**  
   Скрипт отображает четыре изображения:
   - Original
   - Dark  
   - Normal (== original)  
   - Light  
   - HDR effect  

5. **Сохранение результата и оригинала**  
   HDR-изображение сохраняется в файл, указанный в `--output_image`, и оригинал по указанному `--output_original`, для визуального сравнения.

---

## Пример использования:

```bash
python hdr_effect_maker.py \
    --w_dark 0.3 \
    --w_normal 0.4 \
    --w_light 0.3 \
    --alpha_dark 0.5 \
    --alpha_light 1.5 \
    --output_image hdr_result.png \
    --output_original astronaut_original.png
```

---

## Требования и зависимости:

Для работы скрипта необходимы следующие компоненты:

- **Python 3.x** — интерпретатор Python версии 3 и выше.  
- **OpenCV (opencv-python)** — библиотека для обработки изображений. 
- **NumPy** (numpy) — библиотека для работы с массивами и математическими опера
циями.  
- **MatplotLib** (matplotlib) — библиотека для визуализации изображений и построения графиков.
- **Scikit-Image (skimage)** — ресурс для загрузки тестового изображения (astronaut).

Установить зависимости можно командой:

```bash
pip install opencv-python numpy matplotlib scikit-image
```

Либо из файла requirements.txt с конкретными версиями библиотек:

```bash
pip install -r requirements.txt
```
